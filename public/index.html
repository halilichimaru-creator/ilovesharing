<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ILOVESHARE | Partage de fichiers ultra-rapide et sÃ©curisÃ©</title>
    <meta name="description"
        content="Partagez vos fichiers et dossiers instantanÃ©ment entre vos appareils. Pas de cloud, pas de cÃ¢bles, juste du direct et du sÃ©curisÃ©.">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background-blobs">
        <div class="blob yellow"></div>
        <div class="blob blue"></div>
        <div class="blob purple"></div>
    </div>

    <div class="app-container">
        <nav class="navbar">
            <div class="logo">
                <img src="favicon.png" alt="ILOVESHARE Logo">
                <span>ILOVE<strong>SHARE</strong></span>
            </div>
            <div class="nav-actions">
                <div class="lang-selector">
                    <button class="lang-btn"><span id="current-lang-flag">ğŸ‡«ğŸ‡·</span> <span
                            id="current-lang-name">FR</span></button>
                    <div class="lang-dropdown">
                        <div class="lang-option" onclick="setLanguage('fr')" id="lang-fr">ğŸ‡«ğŸ‡· FranÃ§ais</div>
                        <div class="lang-option" onclick="setLanguage('en')" id="lang-en">ğŸ‡ºğŸ‡¸ English</div>
                        <div class="lang-option" onclick="setLanguage('de')" id="lang-de">ğŸ‡©ğŸ‡ª Deutsch</div>
                    </div>
                </div>
                <button id="install-btn" class="status-badge hidden"
                    style="cursor:pointer; border: 1px solid var(--primary); color: var(--primary);"
                    data-i18n="install_app">Installer l'App</button>
                <button id="test-notif-btn" class="status-badge" style="cursor:pointer; border: 1px solid #ddd;"
                    title="Tester les notifications">ğŸ””</button>
                <button id="theme-toggle" class="theme-toggle" title="Toggle Dark Mode">ğŸŒ“</button>
                <div id="connection-status" class="status-badge" data-i18n="ready">PrÃªt Ã  connecter</div>
            </div>
        </nav>

        <header class="hero">
            <h1 data-i18n="hero_title">Partagez vos fichiers, simplement.</h1>
            <p data-i18n="hero_subtitle">Ultra-rapide. P2P direct. Sans limites.</p>
        </header>

        <section id="qr-section" class="qr-section hidden">
            <div class="qr-card">
                <div id="qrcode"></div>
                <div class="qr-info">
                    <h3>Scannez pour rejoindre</h3>
                    <p>Utilisez l'appareil photo de votre tÃ©lÃ©phone pour vous connecter Ã  cette session.</p>
                    <code id="url-display"></code>
                </div>
            </div>
        </section>

        <main id="device-list" class="device-grid">
            <!-- Devices will appear here -->
            <div class="empty-state">
                <div class="loader-ring"></div>
                <p data-i18n="waiting_devices">En attente d'autres appareils...</p>
            </div>
        </main>

        <section id="history-section" class="history-section hidden">
            <div class="section-header">
                <h2 data-i18n="history_title">Historique des transferts</h2>
                <button class="action-btn small secondary" onclick="clearHistory()"
                    data-i18n="clear_history">Effacer</button>
            </div>
            <div id="history-list" class="history-list">
                <!-- History items will appear here -->
            </div>
        </section>

        <section class="magic-section">
            <div class="magic-grid">
                <div class="magic-card clipboard">
                    <div class="magic-header">
                        <h3 data-i18n="clipboard_title">ğŸ“‹ Presse-papier</h3>
                        <span class="magic-badge" data-i18n="sync_auto">Sync auto</span>
                    </div>
                    <textarea id="clipboard-area" placeholder="Copiez du texte ici pour le partager..."
                        data-i18n-placeholder="clipboard_placeholder"></textarea>
                    <button id="copy-btn" class="action-btn" data-i18n="copy">Copier</button>
                </div>
                <div class="magic-card notes">
                    <div class="magic-header">
                        <h3 data-i18n="notes_title">âœï¸ Notes partagÃ©es</h3>
                    </div>
                    <div id="notes-display" class="notes-display">
                        <p class="empty-notes" data-i18n="empty_notes">Aucun message pour le moment...</p>
                    </div>
                    <div class="notes-input-group">
                        <input type="text" id="note-input" placeholder="Ã‰crire une note..."
                            data-i18n-placeholder="note_placeholder">
                        <button id="send-note-btn">ğŸš€</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="how-it-works">
            <h2 data-i18n="how_it_works">Comment Ã§a marche ?</h2>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">01</div>
                    <h3 data-i18n="step1_title">Ouvrez ILOVESHARE</h3>
                    <p data-i18n="step1_desc">Sur deux appareils connectÃ©s au mÃªme rÃ©seau (WiFi ou 4G/5G).</p>
                </div>
                <div class="step-card">
                    <div class="step-number">02</div>
                    <h3 data-i18n="step2_title">Scannez le QR Code</h3>
                    <p data-i18n="step2_desc">Utilisez votre tÃ©lÃ©phone pour scanner le code affichÃ© sur votre PC.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">03</div>
                    <h3 data-i18n="step3_title">Partagez en direct</h3>
                    <p data-i18n="step3_desc">SÃ©lectionnez vos fichiers. Ils sont envoyÃ©s sans passer par le cloud.</p>
                </div>
            </div>
        </section>

        <footer class="app-footer">
            <div id="transfer-overlay" class="transfer-overlay hidden">
                <div class="transfer-card">
                    <div class="transfer-header">
                        <span id="transfer-filename">Fichier en cours...</span>
                        <span id="transfer-percent">0%</span>
                    </div>
                    <div class="progress-container">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                    <div class="transfer-stats">
                        <span id="transfer-speed">0 MB/s</span>
                        <span id="transfer-eta">Calcul...</span>
                    </div>
                    <p id="status-text">Initialisation...</p>
                </div>
            </div>
            <p>&copy; 2026 ILOVESHARE. Fait avec passion pour le partage.</p>
        </footer>
    </div>

    <!-- Hidden inputs -->
    <input type="file" id="file-input" multiple style="display: none;">
    <input type="file" id="folder-input" webkitdirectory directory multiple style="display: none;">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>

</html>