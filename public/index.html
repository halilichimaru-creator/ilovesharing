<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ILOVESHARE | Partage de fichiers ultra-rapide et s√©curis√©</title>
    <meta name="description"
        content="Partagez vos fichiers et dossiers instantan√©ment entre vos appareils. Pas de cloud, pas de c√¢bles, juste du direct et du s√©curis√©.">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background-blobs">
        <div class="blob yellow"></div>
        <div class="blob blue"></div>
        <div class="blob purple"></div>
    </div>

    <div class="app-container">
        <nav class="navbar">
            <div class="logo">
                <img src="favicon.png" alt="ILOVESHARE Logo">
                <span>ILOVE<strong>SHARE</strong></span>
            </div>
            <div class="nav-actions">
                <button id="install-btn" class="status-badge hidden"
                    style="cursor:pointer; border: 1px solid var(--primary); color: var(--primary);">Installer
                    l'App</button>
                <button id="test-notif-btn" class="status-badge" style="cursor:pointer; border: 1px solid #ddd;"
                    title="Tester les notifications">üîî</button>
                <button id="theme-toggle" class="theme-toggle" title="Toggle Dark Mode">üåì</button>
                <div id="connection-status" class="status-badge">Pr√™t √† connecter</div>
            </div>
        </nav>

        <header class="hero">
            <h1>Partagez vos fichiers <span>simplement</span></h1>
            <p>Connectez vos appareils instantan√©ment via votre r√©seau local. S√©curis√©, rapide et gratuit.</p>
        </header>

        <section id="qr-section" class="qr-section hidden">
            <div class="qr-card">
                <div id="qrcode"></div>
                <div class="qr-info">
                    <h3>Scannez pour rejoindre</h3>
                    <p>Utilisez l'appareil photo de votre t√©l√©phone pour vous connecter √† cette session.</p>
                    <code id="url-display"></code>
                </div>
            </div>
        </section>

        <main id="device-list" class="device-grid">
            <!-- Devices will appear here -->
            <div class="empty-state">
                <div class="loader-ring"></div>
                <p>En attente d'autres appareils...</p>
            </div>
        </main>

        <section id="history-section" class="history-section hidden">
            <h2>Historique des transferts</h2>
            <div id="history-list" class="history-list">
                <!-- History items will appear here -->
            </div>
        </section>

        <section class="magic-section">
            <div class="magic-grid">
                <div class="magic-card clipboard">
                    <div class="magic-header">
                        <h3>üìã Presse-papier</h3>
                        <span class="magic-badge">Sync auto</span>
                    </div>
                    <textarea id="clipboard-area" placeholder="Copiez du texte ici pour le partager..."></textarea>
                    <button id="copy-btn" class="action-btn">Copier</button>
                </div>
                <div class="magic-card notes">
                    <div class="magic-header">
                        <h3>‚úçÔ∏è Notes partag√©es</h3>
                    </div>
                    <div id="notes-display" class="notes-display">
                        <p class="empty-notes">Aucun message pour le moment...</p>
                    </div>
                    <div class="notes-input-group">
                        <input type="text" id="note-input" placeholder="√âcrire une note...">
                        <button id="send-note-btn">üöÄ</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="how-it-works">
            <h2>Comment √ßa marche ?</h2>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-num">01</div>
                    <h3>Ouvrez le site</h3>
                    <p>Ouvrez ILOVESHARE sur les deux appareils que vous voulez connecter.</p>
                </div>
                <div class="step-card">
                    <div class="step-num">02</div>
                    <h3>Scannez le QR</h3>
                    <p>Scannez le code QR de l'ordinateur avec votre t√©l√©phone pour cr√©er un lien direct.</p>
                </div>
                <div class="step-card">
                    <div class="step-num">03</div>
                    <h3>Partagez !</h3>
                    <p>S√©lectionnez vos fichiers et transf√©rez-les √† la vitesse de l'√©clair.</p>
                </div>
            </div>
        </section>

        <footer class="app-footer">
            <div id="transfer-overlay" class="transfer-overlay hidden">
                <div class="transfer-card">
                    <div class="transfer-header">
                        <span id="transfer-filename">Fichier en cours...</span>
                        <span id="transfer-percent">0%</span>
                    </div>
                    <div class="progress-container">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                    <div class="transfer-stats">
                        <span id="transfer-speed">0 MB/s</span>
                        <span id="transfer-eta">Calcul...</span>
                    </div>
                    <p id="status-text">Initialisation...</p>
                </div>
            </div>
            <p>&copy; 2026 ILOVESHARE. Fait avec passion pour le partage.</p>
        </footer>
    </div>

    <!-- Hidden inputs -->
    <input type="file" id="file-input" multiple style="display: none;">
    <input type="file" id="folder-input" webkitdirectory directory multiple style="display: none;">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>

</html>